<div class="page-form-ele page">

    <div class="row ui-section" ng-controller="movieCtrl">

        <div class="col-lg-12 clearfix">
            <h2 class="section-header" data-translate="MOVIE"></h2>
        </div>

        <div class="col-md-12" data-ng-show="(movie.file == undefined) && (movie._id == undefined)">
            <form name="movieForm">
                <div layout="column">
                    <div ngf-drop
                         ngf-select
                         ng-model="movie.file"
                         class="drop-box"
                         ngf-drag-over-class="'dragover'"
                         ngf-allow-dir="true"
                         ngf-include-dir="true"
                         accept="video/*"
                         ngf-pattern="'video/*'"
                         ngf-multiple="false">
                        <h3>Selecione o vídeo para enviar</h3>
                        <h5>Ou arraste e solte o arquivo de vídeo</h5>
                    </div>
                    <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>
                </div>
            </form>
        </div>

        <div class="col-md-12" data-ng-show="(movie.file != undefined) || (movie._id != undefined)">
            <section class="panel panel-default">
                <div class="panel-body">

                    <div layout="row" layout-align="space-around center">

                        <div flex="40" layout layout-align="center center">

                            <md-whiteframe class="md-whiteframe-4dp" layout layout-align="center center" flex="80" style="height: 180px">
                                <video id="video" controls ngf-src="movie.file" flex></video>
                            </md-whiteframe>

                        </div>
                        <div flex>

                            <form name="movieForm">

                                <div layout layout-sm="column">
                                    <md-input-container flex>
                                        <label data-translate="TITLE"></label>
                                        <input ng-model="movie.title">
                                    </md-input-container>
                                </div>

                                <div layout layout-sm="column">
                                    <md-input-container flex>
                                        <label data-translate="DESCRIPTION"></label>
                                                <textarea ng-model="movie.description" columns="1"
                                                          md-maxlength="150"></textarea>
                                    </md-input-container>
                                </div>

                                <div layout layout-sm="column">
                                    <md-chips ng-model="movie.tags"
                                              readonly="readonly"
                                              placeholder="Enter a tag"
                                              delete-button-label="Remove Tag"
                                              delete-hint="Press delete to remove tag"
                                              secondary-placeholder="+Tag" flex>
                                    </md-chips>
                                </div>

                                <md-chips ng-model="movie.category"
                                          md-autocomplete-snap
                                          md-require-match="true">
                                    <md-autocomplete
                                            md-selected-item="selectedItem"
                                            md-search-text="searchText"
                                            md-items="item in querySearch(searchText)"
                                            md-item-text="item.description"
                                            placeholder="Digite uma categoria">
                                        <span md-highlight-text="searchText">{{item.description}}</span>
                                    </md-autocomplete>
                                    <md-chip-template>
                                                <span>
                                                  <strong>{{$chip.description}}</strong>
                                                </span>
                                    </md-chip-template>
                                </md-chips>

                            </form>

                        </div>

                    </div>

                </div>

                <canvas id="canvas" ng-show="false"></canvas>
            </section>

        </div>

        <md-button class="md-fab md-warn md-fab-bottom-right" aria-label="Gravar dados" ng-click="save()">
            <span class="fa fa-check"></span>
        </md-button>
    </div>
</div>